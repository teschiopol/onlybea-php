import{T as w,r as k,o as i,c as m,a as t,t as x,u as a,b as d,w as u,d as h,e as g,h as y,i as C,m as $,F as v,Z as N,f as V,j as S,k as B}from"./app-BfhOvkBX.js";import{_ as M,a as L}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-IXGjOMdB.js";import{_ as c}from"./InputError.vue_vue_type_script_setup_true_lang-BbEaGZV5.js";import{P as q}from"./PrimaryButton-D-Kokau_.js";import{d as b,r as U}from"./relativeTime-Co2_v_N0.js";import"./ApplicationLogo-BnaeedOT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={class:"p-6 flex space-x-2"},E={class:"flex-1"},T={class:"flex justify-between items-center"},z={class:"text-gray-900 dark:text-gray-100"},F={key:0,class:"text-sm text-gray-600"},H={key:1,class:"text-sm text-gray-600 dark:text-gray-200"},D={class:"space-x-2"},I={key:1,class:"mt-4 text-lg text-gray-900 dark:text-gray-100"},P={__name:"CompanyElement",props:["item"],setup(o){b.extend(U);const f=o,r=w({name:f.item.name,hq:f.item.hq}),l=k(!1);return(p,s)=>(i(),m("div",j,[t("div",E,[t("div",T,[t("div",null,[t("span",z,x(o.item.name),1),o.item.created_at===o.item.updated_at?(i(),m("small",F," - created "+x(a(b)(o.item.created_at).fromNow()),1)):(i(),m("small",H," - edited "+x(a(b)(o.item.updated_at).fromNow()),1))]),d(M,null,{trigger:u(()=>s[5]||(s[5]=[t("button",null,[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})])],-1)])),content:u(()=>[t("button",{class:"block w-full px-4 py-2 text-left text-sm leading-5 text-gray-700 dark:text-gray-300 hover:bg-gray-100 focus:bg-gray-100 transition duration-150 ease-in-out",onClick:s[0]||(s[0]=e=>l.value=!0)}," Edit ")]),_:1})]),l.value?(i(),m("form",{key:0,onSubmit:s[4]||(s[4]=h(e=>a(r).put(p.route("companies.update",o.item.id),{onSuccess:()=>l.value=!1}),["prevent"]))},[s[7]||(s[7]=t("label",{class:"text-gray-900 dark:text-gray-100"},"Name",-1)),g(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>a(r).name=e),class:"mb-4 w-full text-gray-900 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[y,a(r).name]]),d(c,{message:a(r).errors.name,class:"mb-4"},null,8,["message"]),s[8]||(s[8]=t("label",{class:"text-gray-900 dark:text-gray-100"},"Headquarter",-1)),g(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>a(r).hq=e),class:"mb-4 w-full text-gray-900 border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[y,a(r).hq]]),d(c,{message:a(r).errors.hq,class:"mb-4"},null,8,["message"]),t("div",D,[d(q,{class:"mt-4"},{default:u(()=>s[6]||(s[6]=[C("Save")])),_:1}),t("button",{class:"text-gray-900 dark:text-gray-100 mt-4",onClick:s[3]||(s[3]=e=>{l.value=!1,a(r).reset(),a(r).clearErrors()})},"Cancel")])],32)):(i(),m("div",I,[t("p",null,"Headquarter: "+x(o.item.hq),1)]))])]))}},A={class:"py-12"},O={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8"},Z={class:"bg-white dark:bg-gray-800 shadow-sm rounded-lg divide-y"},G={key:0,class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},_={__name:"Index",props:["companies"],setup(o){const f=o,r=w({name:"",hq:""}),l=k(""),p=$(()=>{let s=Object.values(f.companies);return l.value?s.filter(e=>e.name.toLowerCase().includes(l.value.toLowerCase())||e.hq.toLowerCase().includes(l.value.toLowerCase())):s});return(s,e)=>(i(),m(v,null,[d(a(N),{title:"Companies"}),d(L,null,{header:u(()=>e[4]||(e[4]=[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-100 leading-tight"},"Companies",-1)])),default:u(()=>[t("div",A,[t("div",O,[t("form",{onSubmit:e[2]||(e[2]=h(n=>a(r).post(s.route("companies.store"),{onSuccess:()=>a(r).reset()}),["prevent"]))},[e[6]||(e[6]=t("label",{class:"text-gray-900 dark:text-gray-100"},"Name",-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>a(r).name=n),placeholder:"Acme",class:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 mb-4 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[y,a(r).name]]),d(c,{message:a(r).errors.name,class:"mb-4"},null,8,["message"]),e[7]||(e[7]=t("label",{class:"text-gray-900 dark:text-gray-100"},"Headquarter",-1)),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>a(r).hq=n),placeholder:"Milan",class:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 mb-4 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[y,a(r).hq]]),d(c,{message:a(r).errors.hq,class:"mb-4"},null,8,["message"]),d(q,{class:"mt-4 mb-6"},{default:u(()=>e[5]||(e[5]=[C("Save Company")])),_:1})],32),e[9]||(e[9]=t("label",{class:"text-gray-900 dark:text-gray-100"},"Filter Company",-1)),g(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=n=>l.value=n),autocomplete:"off",class:"bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 mb-4 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm"},null,512),[[y,l.value]]),t("div",Z,[(i(!0),m(v,null,V(p.value,n=>(i(),B(P,{key:n.id,item:n},null,8,["item"]))),128))]),o.companies.length<1?(i(),m("div",G,e[8]||(e[8]=[t("div",{class:"p-6 text-gray-900 dark:text-gray-100"},"No companies yet!",-1)]))):S("",!0)])])]),_:1})],64))}};export{_ as default};
